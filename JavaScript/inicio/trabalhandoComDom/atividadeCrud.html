<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crud Usuario</title>
</head>

<body>
    <script>
        //inicializador = array
        const arrUsuario = []
        let escolhaUser;

        //realizar construção do menu
        function mostrarMenu() {
            escolhaUser = Number(prompt(`
                [1] - Realizar cadastro usuario
                [2] - Listar usuario
                [3] - Atualizar usuario
                [4] - Deletar usuario
                [5] - sair do programa
            `));
        }
        //Primeiro método -> HTTP Post (Cadastro)

        function cadastroUsuario() {

            const nomeUsuario = prompt("Qual o nome do usuário?");
            const emailUsuario = prompt("Qual o email do usuário?")

            //validação:
            if (!nomeUsuario || !emailUsuario) {
                alert("Os campos são obrigatórios!")
            }

            arrUsuario.push({ nomeUsuario, emailUsuario })
            alert("usuário foi cadastro com sucesso!");
        }

        //realizar a visualização dos usuários
        function visualizarUsuario() {
            let listaUsuario;
            for (const usuario of arrUsuario) {
                listaUsuario += (`
                    Nome: ${usuario.nomeUsuario}, Email: ${usuario.emailUsuario}
                `)

                // arrUsuario.forEach( (usuario) => {

                //     //lógica de exibição
                //     usuario.nomeUsuario,
                //     usuario.emailUsuario
                // })

                alert("****** Lista de Usuarios ******", listaUsuario)
            }
        }


        function excluirUsuario() {
            const nomeParaExcluir = prompt("Informe o nome a ser excluido: ")
            const procurarNomeParaExcluir = arrUsuario.findIndex(usuario => usuario.nomeUsuario === nomeParaExcluir)

            if (procurarNomeParaExcluir === -1) {
                alert("Usuario não foi encontrado!")
                return;
            }

            arrUsuario.splice(procurarNomeParaExcluir, 1)

            alert("Usuario foi excluído com sucesso!!!!!")
        }

        mostrarMenu()

        while (escolhaUser !== 5) {

            switch (escolhaUser) {
                case 1:
                    cadastroUsuario()
                    break;
                case 2:
                    visualizarUsuario()
                    break;
                // case 3:
                //         atualizarUsuario()
                //     break;
                case 4:
                    excluirUsuario()
                    break;
                case 5:
                    proccess.exit()
                    break;
                default:
                    break;
            }
        }


    </script>
</body>

</html>